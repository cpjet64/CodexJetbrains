<idea-plugin>
  <id>dev.curt.codexjb</id>
  <name>Codex for JetBrains (Unofficial)</name>
  <vendor email="you@example.com">Your Name</vendor>
  <description>JetBrains integration for OpenAI Codex CLI.</description>
  <depends>com.intellij.modules.platform</depends>
  <depends optional="true">Git4Idea</depends>
  <extensions defaultExtensionNs="com.intellij">
    <toolWindow id="Codex" anchor="right"
      factoryClass="dev.curt.codexjb.ui.CodexToolWindowFactory"/>
    <applicationService
      serviceImplementation="dev.curt.codexjb.core.CodexProcessService"/>
    <projectManagerListener
      implementation="dev.curt.codexjb.core.CodexProjectCloseListener"/>
    <statusBarWidgetFactory
      implementation="dev.curt.codexjb.ui.CodexStatusBarFactory"/>
  </extensions>
  <actions>
    <action id="dev.curt.codexjb.actions.AskCodex"
      class="dev.curt.codexjb.actions.AskCodexAction"
      text="Ask Codex" description="Send selection to Codex">
      <add-to-group group-id="EditorPopupMenu" anchor="last"/>
      <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt C"/>
    </action>
    <action id="dev.curt.codexjb.actions.CodexDiagnostics"
      class="dev.curt.codexjb.actions.CodexDiagnosticsAction"
      text="Codex: Diagnostics" description="Show Codex diagnostics">
      <add-to-group group-id="ToolsMenu" anchor="last"/>
    </action>
  </actions>
</idea-plugin>
